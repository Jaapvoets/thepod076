<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>The Pod 076</title>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  height: 100vh;
  overflow: hidden;
  font-family: system-ui, Arial, sans-serif;
  background: black;
}

/* Slides */
.slide {
  position: fixed;
  inset: 0;
  opacity: 0;
  transition: opacity 3.5s ease-in-out; /* super smooth */
  background: black;
}

.slide.active {
  opacity: 1;
  z-index: 1;
}

/* Afbeeldingen fullscreen */
.slide img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transform: scale(1);
}

/* Cinematic slow zoom (Ken Burns) alleen als slide actief is */
.slide.active img {
  animation: kenburns 10s ease-in-out forwards;
}

@keyframes kenburns {
  0%   { transform: scale(1.02); }
  100% { transform: scale(1.10); }
}

/* Subtiele dark overlay voor luxe look */
.overlay {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.18);
  pointer-events: none;
}

/* Fade-to-black layer */
.fadeToBlack {
  position: fixed;
  inset: 0;
  background: black;
  opacity: 0;
  pointer-events: none;
  transition: opacity 2.8s ease-in-out;
  z-index: 5;
}
.fadeToBlack.on {
  opacity: 1;
}

/* Zwarte slide */
.black-slide {
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Typewriter tekst */
.typewrap {
  transform: scale(0.96);
  opacity: 0.85;
  transition: transform 1.6s ease, opacity 1.6s ease;
}
.black-slide.active .typewrap {
  transform: scale(1);
  opacity: 1;
}

.typewriter {
  color: white;
  font-size: clamp(72px, 10vw, 160px);
  font-weight: 850;
  letter-spacing: 6px;
  white-space: nowrap;
  border-right: 4px solid white;
  padding-right: 14px;
  animation: blink 1s infinite;
  text-transform: uppercase;
}

@keyframes blink {
  0%, 50%, 100% { border-color: white; }
  25%, 75% { border-color: transparent; }
}
</style>
</head>
<body>

<!-- Slide 1 -->
<div class="slide active">
  <img src="bg1.jpg" alt="">
  <div class="overlay"></div>
</div>

<!-- Slide 2 -->
<div class="slide">
  <img src="bg2.jpg" alt="">
  <div class="overlay"></div>
</div>

<!-- Slide 3 (zwart + tekst) -->
<div class="slide black-slide">
  <div class="typewrap">
    <div class="typewriter" id="typeText"></div>
  </div>
</div>

<!-- Fade naar zwart v贸贸r de tekst-slide -->
<div class="fadeToBlack" id="fadeToBlack"></div>

<script>
const slides = document.querySelectorAll(".slide");
const fadeLayer = document.getElementById("fadeToBlack");

let current = 0;

/* Timing (langzaam & luxe) */
const timings = [6500, 6500, 12000];     // hoelang elke slide in beeld blijft
const fadeToBlackBefore = 1200;          // wanneer fade-to-black start v贸贸r slide 3
const fadeToBlackDuration = 2800;        // matcht CSS transition ~2.8s

function goTo(nextIndex) {
  slides[current].classList.remove("active");
  current = nextIndex;
  slides[current].classList.add("active");

  // start typing wanneer we bij zwart scherm komen
  if (slides[current].classList.contains("black-slide")) {
    startTyping();
  }
}

function scheduleNext() {
  const isGoingToBlackSlide = ((current + 1) % slides.length) === 2;

  // Als we richting zwarte slide gaan: eerst even elegant naar zwart faden
  if (isGoingToBlackSlide) {
    setTimeout(() => fadeLayer.classList.add("on"), timings[current] - fadeToBlackBefore);
    setTimeout(() => {
      goTo(2);
      // fade-layer weer uit zodat het niet over de zwarte slide blijft hangen
      setTimeout(() => fadeLayer.classList.remove("on"), 200);
      scheduleNext();
    }, timings[current]); // switch precies op het einde van de huidige slide
  } else {
    setTimeout(() => {
      goTo((current + 1) % slides.length);
      scheduleNext();
    }, timings[current]);
  }
}

// Start loop
scheduleNext();

/* Typemachine (reset elke keer als hij opnieuw op zwart komt) */
const text = "Q1 2027";
const typingSpeed = 170;

function startTyping() {
  const el = document.getElementById("typeText");
  el.textContent = "";
  let i = 0;

  function type() {
    if (i < text.length) {
      el.textContent += text.charAt(i);
      i++;
      setTimeout(type, typingSpeed);
    }
  }
  // mini pauze voor drama
  setTimeout(type, 500);
}
</script>

</body>
</html>
